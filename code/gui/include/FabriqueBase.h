#ifndef FABRIQUEBASE_H
#define FABRIQUEBASE_H

#include "SFML/Graphics.hpp"
#include "memory"


#include "Gadget.h"

// AFFICHAGES
#include "gadgets\AffRectangle.h"
#include "gadgets\AffLabel.h"
#include "gadgets\AffImage.h"
#include "gadgets\AffIcone.h"

#include "gadgets\AffBarreTitre.h"

// BOUTONS
#include "gadgets\BtnRectangle.h"
#include "gadgets\BtnTexte.h"
#include "gadgets\BtnIcone.h"
#include "gadgets\BtnMenu.h"

// DONNEES
#include "gadgets\DnCaseACocher.h"
#include "gadgets\DnZoneTexte.h"
#include "gadgets\DnSlider.h"
#include "gadgets\DnBarreDefilement.h"
#include "gadgets\BtnBarreFonctions.h"

// GROUPEMENT
#include "gadgets\GrpSimple.h"
#include "gadgets\GrpSliders.h"

// FENTRES
#include "gadgets\FenSimple.h"
#include "gadgets\FenRedim.h"
#include "gadgets\FenPanneau.h"

// SUPPORTS
#include "gadgets\SupBandeau.h"
#include "gadgets\SupBandeauMenusDeroulants.h"
#include "gadgets\SupPanneau.h"

namespace gui{


/////////////////////////////////////////////////
/// \brief Fabrique de gadgets de base (cf. GOF: Fabrique)
///
/////////////////////////////////////////////////
class FabriqueBase
{
private:

    template<typename T>
    std::shared_ptr<T>  creerGadget ();

    template<typename T>
    std::shared_ptr<T>  creerBureau ();

    template<typename T>
    std::shared_ptr<T>  creerFenetre ();

    template<typename T>
    std::shared_ptr<T>  creerBandeau ();

    template<typename T>
    std::shared_ptr<T>  creerPanneau ();

public:

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// AFFICHAGES
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    FabriqueBase ( Interface* interfaceParent );

    /////////////////////////////////////////////////
    /// \brief  Création d'un simple rectangle
    ///
    /// \param taille
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<AffRectangle>    rectangle( sf::Vector2i taille = {100,100} );

    /////////////////////////////////////////////////
    /// \brief  Création d'un simple label
    ///
    /// \param text
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<AffLabel>    label( std::string text = "Label" );

    /////////////////////////////////////////////////
    /// \brief  Création d'une simple image
    ///
    /// \param fichier
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<AffImage>    image( std::string fichier = "" );
/*
    /////////////////////////////////////////////////
    /// \brief  Création d'une simple image
    ///
    /// \param fichier
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<AffImage>    image( int id );*/

    /////////////////////////////////////////////////
    /// \brief  Création d'une simple icône
    ///
    /// \param fichier
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<AffIcone>    icone( std::string fichier = "" , unsigned int id = 1 );

    /////////////////////////////////////////////////
    /// \brief  Création d'une simple icône
    ///
    /// \param fichier
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<AffBarreTitre>    barreTitre( std::string fichier = ""  );



////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// BOUTONS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



    /////////////////////////////////////////////////
    /// \brief  Création d'un simple bouton texte
    ///
    /// \param texte
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<BtnTexte>    boutonTexte( std::string texte = "" );

    /////////////////////////////////////////////////
    /// \brief  Création d'un simple bouton rectangulaire
    ///
    /// \param taille
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<BtnRectangle>    boutonRect( sf::Vector2i taille );

    /////////////////////////////////////////////////
    /// \brief  Création d'un simple bouton rectangulaire
    ///
    /// \param taille
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<BtnIcone>    boutonIcone( std::string texte = "" );


    /////////////////////////////////////////////////
    /// \brief  Création d'un Menu
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<BtnMenu>        menu( );

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// DONNEES
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////
    /// \brief  Création d'un bouton interrupteur ( bool )
    ///
    /// \param val
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<DnCaseACocher>        btnACocher( bool val = true );

    /////////////////////////////////////////////////
    /// \brief  Création d'une zone de texte
    ///
    /// \param texte
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<DnZoneTexte>        zoneTexte( std::string texte = "zone de texte" );

    /////////////////////////////////////////////////
    /// \brief  Création d'un slider
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<DnSlider>        slider( );

    /////////////////////////////////////////////////
    /// \brief  Création d'une barre de defilement pour deplacer un contenu à l'interieur d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<DnBarreDefilement>        barreDefilement( );

    /////////////////////////////////////////////////
    /// \brief  Création d'une barre de defilement pour deplacer un contenu à l'interieur d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<BtnBarreFonctions>        barreFonctions( );

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// GROUPEMENT
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<GrpSimple>        groupe( );

    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<GrpSliders>        groupeSliders( );


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// FENETRES
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<FenSimple>        fenetre( std::string titre = "Fenêtre" );


    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<FenRedim>        fenetreRedim( std::string titre = "Fenêtre" );


    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<FenPanneau>        panneau( std::string titre = "Panneau" );

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// SUPPORTS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<SupBandeau>        bandeau( );


    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<SupBandeauMenusDeroulants>    menusDeroulants(  );



    /////////////////////////////////////////////////
    /// \brief  Création d'un panneau
    ///
    /// \return Un pointeur vers le nouveau gadget.
    /////////////////////////////////////////////////
    std::shared_ptr<SupPanneau>        supportPanneaux( );





/////////////////////////////////////////////////
// Membres
/////////////////////////////////////////////////

    Interface*      m_interfaceParent;





};

}; // fin namespace gui

#endif // FABRIQUEBASE_H
